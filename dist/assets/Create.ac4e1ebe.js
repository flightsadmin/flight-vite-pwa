var y=Object.defineProperty;var p=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var m=(n,o,s)=>o in n?y(n,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[o]=s,u=(n,o)=>{for(var s in o||(o={}))S.call(o,s)&&m(n,s,o[s]);if(p)for(var s of p(o))k.call(o,s)&&m(n,s,o[s]);return n};import{u as x,K as M,l as U,o as w,c as V,b as e,M as i,N as c,n as l,Q as g,R,O as D}from"./vendor.1a42547b.js";import{a as _,f as N}from"./firebase.6e933a1e.js";const B={class:"card card-body mt-4"},O=["onSubmit"],q={class:"row g-3"},A={class:"col-md-6"},C=e("label",{class:"form-label"},"Person Reporting",-1),E={class:"col-md-6"},I=e("label",{class:"form-label"},"Email",-1),G={class:"col-md-6"},T=e("label",{class:"form-label"},"Select Report Type",-1),K=e("option",{value:"GE"},"General Incident",-1),L=e("option",{value:"NM"},"Near Miss",-1),P=e("option",{value:"SO"},"Safe Observation",-1),Q=[K,L,P],j={class:"col-md-6"},z=e("label",{class:"form-label"},"Date of Occurance",-1),F={class:"col-md-12"},H=e("label",{class:"form-label"},"Description",-1),J={class:"form-check form-check-inline form-switch"},W=e("label",{class:"form-check-label"},"Airline Involved?",-1),X=e("button",{type:"submit",class:"btn btn-primary bi bi-plus-lg mt-3 float-end"}," Create Report",-1),ee={setup(n){const o=x(),s=_.currentUser,f=s.displayName,b=s.email,t=M({reporter:f,reporteremail:b,reporttype:"",files:"",date:"",description:"",airline:"",reportID:Math.random().toString(2).substr(2,6),createdAt:new Date}),h=async()=>{await N(u({},t)),t.reporter="",t.reporteremail="",t.files="",t.reporttype="",t.date="",t.description="",t.airline="",o.push("/report")},v=_.onAuthStateChanged(function(d){d||o.push("/login")});return U(()=>{v()}),(d,r)=>(w(),V("div",B,[e("form",{onSubmit:D(h,["prevent"])},[e("div",q,[e("div",A,[C,i(e("input",{"onUpdate:modelValue":r[0]||(r[0]=a=>l(t).reporter=a),type:"text",class:"form-control",readonly:"",required:""},null,512),[[c,l(t).reporter]])]),e("div",E,[I,i(e("input",{"onUpdate:modelValue":r[1]||(r[1]=a=>l(t).reporteremail=a),type:"text",class:"form-control",readonly:"",required:""},null,512),[[c,l(t).reporteremail]])]),e("div",G,[T,i(e("select",{"onUpdate:modelValue":r[2]||(r[2]=a=>l(t).reporttype=a),class:"form-select",name:"reporttype"},Q,512),[[g,l(t).reporttype]])]),e("div",j,[z,i(e("input",{"onUpdate:modelValue":r[3]||(r[3]=a=>l(t).date=a),type:"date",class:"form-control",required:""},null,512),[[c,l(t).date]])]),e("div",F,[H,i(e("textarea",{"onUpdate:modelValue":r[4]||(r[4]=a=>l(t).description=a),class:"form-control",rows:"6",name:"description"},null,512),[[c,l(t).description]])]),e("div",J,[i(e("input",{"onUpdate:modelValue":r[5]||(r[5]=a=>l(t).airline=a),class:"form-check-input",type:"checkbox"},null,512),[[R,l(t).airline]]),W])]),X],40,O)]))}};export{ee as default};
